<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>sarah tanfield</title>
        <meta name="author" content="http://kor.nz">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400&display=swap" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Frank Ruhl Libre' rel='stylesheet'>
        <script>
            // ADD LIGHTBOX VARS HERE

            document.addEventListener('click', function (event) {

            // Check if clicked image-container
            let container =  null;
            if (event.target.parentElement.parentElement.matches('.image-container'))
            {
                container = event.target.parentElement.parentElement;
            }
            else if (event.target.parentElement.matches('.image-container'))
            {
                container = event.target.parentElement;
            }
            else if (event.target.matches('.image-container'))
            {
                container = event.target;
            }

            if (container != null)
            {
                // Don't follow the link
                event.preventDefault();

                // TODO here figure out what page is open somehow and select correct list of items
                let items = index.getItemsHome();
		        let hash = window.location.hash;
                if (hash == `#publication`)
                {
                    items = index.getItemsPublication();
                }
                else if (hash == `#packaging`)
                {
                    items = index.getItemsPackaging();
                }
                else if (hash == `#presentation`)
                {
                    items = index.getItemsPresentation();
                }
                else if (hash == `#all`)
                {
                    items = index.getItemsAll();
                }

                // Log the clicked element in the console
                var fileLocation = container.getAttribute('lightbox');
                var desc = container.getAttribute('lightbox-desc');
                lightbox.load(fileLocation,desc,items);
            } 
        }, false);
        </script>
    </head>
    <body>
        <div class="lightbox"></div>
        <main>
            <menu>
                <header class="navLeftStatic" id="header">Sarah Tanfield</header>
                <nav>
                    <span class="navRight" id="navPublication"><a href="#publication">Publication</a></span>
                    <span class="navRight" id="navPackaging"><a href="#packaging">Packaging</a></span>
                    <span class="nnavRight" id="navPresentation"><a href="#presentation">Presentation</a></span>
                </nav>
            </menu>

            <span class="about-short marginBottomLarge">
                <p>Hand bookbinder and boxmaker</p>
                <p>TƒÅmaki Makaurau, New Zealand</p>
            </span>
            

            <div id="gallery">
            </div>
            <a href="#all" id="navAll">See all photos</a>

            <p class="marginTopLarge font-bold">About:</p>
            <span class="about-long">
                <p>Working with photographers, designers, agencies, architects, poets, foodies, artists and small business owners</p>
                <p>Creating custom, functional structural packaging, books and presentation materials</p>
            </span>

            <p class="marginTopLarge font-bold">Clients include:</p>
            <div class="clients" id="clients">
                <img src="clients/anz.svg" class="logo"/>
                <img src="clients/cordis.png" class="logo" />
                <img src="clients/karenWalker.png" class="logo" />
                <img src="clients/landrover.png" class="logo" />
                <img src="clients/samsung.svg" class="logo" />
                <img src="clients/mercury.png" class="logo" />
                <img src="clients/raydar.svg" class="logo" />
                <img src="clients/meadowlark.png" class="logo" />
                <img src="clients/thelanding.svg" class="logo" />
                <img src="clients/toyota.png" class="logo" />
            </div>

            <p class="marginTopLarge font-bold">Contact:</p>
            <span class="about-long marginBottomLarge">
                <p>Send a message if you have questions about commissions</p>
                <p><a href="mailto:sarah.lft@gmail.com">Email me</a></p>
            </span>
        </main>

        <script src="logic/lib/lightbox.js"></script>
        <script>
            let lightbox = new Lightbox();
            lightbox.install(document.querySelector('.lightbox'), 'lightbox');
        </script>

        <!-- JS -->
        <script src="logic/lib/tablatal.js"></script>
        <script src="media.tbtl"></script>
        <script src="logic/index.js"></script>
        <script src="logic/image.js"></script>
        <script src="logic/media.js"></script>
        <script>
            var index = new Index();
            index.install();
            index.start();
            window.addEventListener("hashchange", function() { index.load(); });
        </script>
        <!-- JS -->
    </body>
</html>
