<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>sarah tanfield</title>
        <meta name="author" content="http://kor.nz">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400&display=swap" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Frank Ruhl Libre' rel='stylesheet'>
        <script>
            // TODO: BUILD PUTS LIGHTBOX ALBUM VARS HERE

            document.addEventListener('click', function (event) {

            // Check if clicked image-container
            let container =  null;
            if (event.target.parentElement.parentElement.matches('.image-container'))
            {
                container = event.target.parentElement.parentElement;
            }
            else if (event.target.parentElement.matches('.image-container'))
            {
                container = event.target.parentElement;
            }
            else if (event.target.matches('.image-container'))
            {
                container = event.target;
            }

            if (container != null)
            {
                // Don't follow the link
                event.preventDefault();

                // TODO: here figure out what page is open somehow (in build) and select correct list of album items
                let items = index.getItemsHome();
		        let hash = window.location.hash;
                if (hash == `#publication`)
                {
                    // USE LIGHTBOX ALBUM VARS NOT BELOW
                    items = index.getItemsPublication();
                }
                else if (hash == `#packaging`)
                {
                    // USE LIGHTBOX ALBUM VARS NOT BELOW
                    items = index.getItemsPackaging();
                }
                else if (hash == `#presentation`)
                {
                    // USE LIGHTBOX ALBUM VARS NOT BELOW
                    items = index.getItemsPresentation();
                }
                else if (hash == `#all`)
                {
                    // USE LIGHTBOX ALBUM VARS NOT BELOW
                    items = index.getItemsAll();
                }

                var fileLocation = container.getAttribute('lightbox');
                var desc = container.getAttribute('lightbox-desc');
                lightbox.load(fileLocation, desc, items);
            }
        }, false);
        </script>
    </head>
    <body>
        <div class="lightbox"></div>
        <main>
            <menu>
                <header class="navLeftStatic" id="header">sarah tanfield</header>
                <nav>
                    <span class="navRight" id="navPublication"><a href="#publication">publications</a></span>
                    <span class="navRight" id="navPackaging"><a href="#packaging">packaging</a></span>
                    <span class="nnavRight" id="navPresentation"><a href="#presentation">presentation</a></span>
                </nav>
            </menu>

            <span class="about-short marginBottomLarge">
                <p>Bookbinder and Boxmaker</p>
                <p>TƒÅmaki Makaurau, Aotearoa</p>
            </span>


            <div id="gallery">
            </div>
            <a href="#all" id="navAll">see all photos</a>

            <p class="marginTopLarge font-bold">about</p>
            <span class="about-long">
                <p>collaborating with photographers, designers, architects, artists and small-business owners to create custom structural packaging, books and presentation materials.

			Credit where credit's due: Apart from practical and finishing improvement of the work shown here, credit of design is held with the agency and brand.  </p>
            </span>



            <span class="about-long marginBottomLarge">
                <p><a href="mailto:hello@sarahtanfield.nz">email me here</a></p>
            </span>
        </main>

        <script src="logic/lib/lightbox.js"></script>
        <script>
            let lightbox = new Lightbox();
            lightbox.install(document.querySelector('.lightbox'), 'lightbox');
        </script>

        <!-- JS -->
        <script src="logic/lib/tablatal.js"></script>
        <script src="media.tbtl"></script>
        <script src="logic/index.js"></script>
        <script src="logic/image.js"></script>
        <script src="logic/media.js"></script>
        <script>
            var index = new Index();
            index.install();
            index.start();
            window.addEventListener("hashchange", function() { index.load(); });
        </script>
        <!-- JS -->
    </body>
</html>
